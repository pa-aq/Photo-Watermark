# 图片水印程序 (Photo-Watermark)

一个命令行工具，用于给图片添加基于EXIF拍摄时间的水印。

## 功能特性

- 从图片的EXIF信息中提取拍摄时间，并将年月日作为水印文本
- 支持设置水印字体大小、颜色、位置和透明度
- 可以处理单个图片文件或整个目录中的图片
- 处理后的图片保存在原目录下的`原目录名_watermark`子目录中

## 安装依赖

首先安装程序所需的依赖包：

```bash
pip install -r requirements.txt
```

## 使用方法

程序使用交互式输入方式，运行后会提示用户输入相关参数。

### 基本运行方式

```bash
python main.py
```

### 交互输入说明

运行程序后，您需要按照提示输入以下信息：

1. **图片文件或目录路径**：必填，指定要处理的图片文件或包含图片的目录

2. **水印字体大小**：可选，默认为20，直接按回车使用默认值

3. **水印字体颜色**：可选，默认为'white'，支持英文名称（如'white'、'black'、'red'）或RGB格式（如'255,0,0'），直接按回车使用默认值

4. **水印位置**：可选，默认为'bottom_right'，可选值：'top_left'、'top_right'、'bottom_left'、'bottom_right'、'center'，直接按回车使用默认值

5. **水印透明度**：可选，默认为128（范围：0-255），直接按回车使用默认值

### 示例交互流程

```
===== 图片水印工具 =====
请输入图片文件或目录路径: example.jpg
请输入水印字体大小 (默认: 20): 30
请输入水印字体颜色 (默认: white, 支持英文名称或RGB格式如255,255,255): red
请输入水印位置 (默认: bottom_right, 可选值: top_left, top_right, bottom_left, bottom_right, center): bottom_right
请输入水印透明度 (默认: 128, 范围: 0-255): 
已保存带水印的图片到: example_watermark/example.jpg
```

对于目录处理，只需在第一步输入目录路径即可，程序会自动处理目录中的所有图片文件。

## 注意事项

- 程序会尝试读取图片的EXIF信息中的拍摄时间，如果无法读取，则使用文件的修改时间
- 对于非图片文件，程序会自动跳过
- 处理后的图片会保存在原目录的`原目录名_watermark`子目录中，文件名保持不变
- 支持的图片格式：jpg、jpeg、png、bmp、gif、tiff

## 依赖项

- Pillow：用于图像处理和绘制水印
- exifread：用于读取图片的EXIF信息
